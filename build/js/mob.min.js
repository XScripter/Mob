/**
 * Mobird 0.2.0
 * Full Featured HTML5 Framework For Building Mobile Apps
 * 
 * http://www.xscripter.com/mobird/
 * 
 * Copyright 2015, Clarence Hu
 * The XScripter.com
 * http://www.xscripter.com/
 * 
 * Licensed under MIT
 * 
 * Released on: October 15, 2015
 */
!function(t){var e="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;"function"==typeof define&&define.amd?define(["jquery"],function(n){e.Mob=t(e,n)}):e.Mob=t(e,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e){var n=t.Mob,i={};i.$=e,i.VERSION="0.2.0",i.noConflict=function(){return t.Mob=n,this};var r,o;i.Module=function(){function t(t){var e=t.factory,n=".",i=function(e){var i=e;return e.charAt(0)===n&&(i=t.id.slice(0,t.id.lastIndexOf(n))+n+e.slice(2)),r(i)};return t.exports={},delete t.factory,e(i,t.exports,t),t.exports}var e={},n=[],i={};return r=function(r){if(!e[r])throw"模块【"+r+"】没有定义！";if(r in i){var o=n.slice(i[r]).join("->")+"->"+r;throw"模块与模块不能同时相互依赖: "+o}if(e[r].factory)try{return i[r]=n.length,n.push(r),t(e[r])}finally{delete i[r],n.pop()}return e[r].exports},o=function(t,n){if(e[t])throw"模块【"+t+"】已经存在，不能重复定义！";e[t]={id:t,factory:n}},{require:r,define:o,remove:function(t){delete e[t]},map:function(){return e}}}(),o("mob/lang",function(t,e,n){function i(t){function e(e,n,i,r,o,s){for(;o>=0&&s>o;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}return function(n,i,r,o){i=b(i,o,4);var s=!k(n)&&$(n),a=(s||n).length,c=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[c]:c],c+=t),e(n,i,r,s,c,a)}}function r(t){return function(e,n,i){n=E(n,i);for(var r=T(e),o=t>0?0:r-1;o>=0&&r>o;o+=t)if(n(e[o],o,e))return o;return-1}}function o(t,e,n){return function(i,r,o){var s=0,a=T(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(l.call(i,s,a),G),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&a>o;o+=t)if(i[o]===r)return o;return-1}}var s={},a=Array.prototype,c=Object.prototype,u=Function.prototype,l=a.slice,h=c.toString,f=c.hasOwnProperty,d=Array.isArray,p=Object.keys,m=u.bind,v=Object.create,g=function(t){return t},y=function(t){return function(e){return null==e?void 0:e[t]}},w=function(){},b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},E=function(t,e,n){return null==t?g:s.isFunction(t)?b(t,e,n):U(t)?nt(t):y(t)},x=function(t,e){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],s=t(o),a=s.length,c=0;a>c;c++){var u=s[c];e&&void 0!==n[u]||(n[u]=o[u])}return n}},_=function(t){if(!U(t))return{};if(v)return v(t);w.prototype=t;var e=new w;return w.prototype=null,e},S=Math.pow(2,53)-1,T=y("length"),k=function(t){var e=T(t);return"number"==typeof e&&e>=0&&S>=e},C=s.each=function(t,e,n){e=b(e,n);var i,r;if(k(t))for(i=0,r=t.length;r>i;i++)e(t[i],i,t);else{var o=$(t);for(i=0,r=o.length;r>i;i++)e(t[o[i]],o[i],t)}return t},M=s.map=function(t,e,n){e=E(e,n);for(var i=!k(t)&&$(t),r=(i||t).length,o=Array(r),s=0;r>s;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o};s.reduce=i(1),s.reduceRight=i(-1),s.find=function(t,e,n){var i;return i=k(t)?F(t,e,n):Y(t,e,n),void 0!==i&&-1!==i?t[i]:void 0};var A=s.filter=function(t,e,n){var i=[];return e=E(e,n),C(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},P=s.contains=function(t,e,n,i){return k(t)||(t=z(t)),("number"!=typeof n||i)&&(n=0),R(t,e,n)>=0};s.invoke=function(t,e){var n=l.call(arguments,2),i=s.isFunction(e);return M(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})};var O=s.pluck=function(t,e){return M(t,y(e))};s.sortBy=function(t,e,n){return e=E(e,n),O(M(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var L=function(t){return function(e,n,i){var r={};return n=E(n,i),C(e,function(i,o){var s=n(i,o,e);t(r,i,s)}),r}};s.groupBy=L(function(t,e,n){Q(t,n)?t[n].push(e):t[n]=[e]}),s.indexBy=L(function(t,e,n){t[n]=e}),s.countBy=L(function(t,e,n){Q(t,n)?t[n]++:t[n]=1}),s.toArray=function(t){return t?s.isArray(t)?l.call(t):k(t)?M(t,g):z(t):[]},s.size=function(t){return null==t?0:k(t)?t.length:$(t).length},s.rest=function(t,e,n){return l.call(t,null==e||n?1:e)};var j=s.uniq=function(t,e,n,i){J(e)||(i=n,n=e,e=!1),null!=n&&(n=E(n,i));for(var r=[],o=[],s=0,a=T(t);a>s;s++){var c=t[s],u=n?n(c,s,t):c;e?(s&&o===u||r.push(c),o=u):n?P(o,u)||(o.push(u),r.push(c)):P(r,c)||r.push(c)}return r},N=function(t,e,n,i){for(var r=[],o=0,a=i||0,c=T(t);c>a;a++){var u=t[a];if(k(u)&&(s.isArray(u)||s.isArguments(u))){e||(u=N(u,e,n));var l=0,h=u.length;for(r.length+=h;h>l;)r[o++]=u[l++]}else n||(r[o++]=u)}return r};s.flatten=function(t,e){return N(t,e,!1)},s.union=function(){return j(N(arguments,!0,!0))},s.difference=function(t){var e=N(arguments,!0,!0,1);return A(t,function(t){return!P(e,t)})};var F=s.findIndex=r(1),D=s.findLastIndex=r(-1),I=s.sortedIndex=function(t,e,n,i){n=E(n,i,1);for(var r=n(e),o=0,s=T(t);s>o;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},R=s.indexOf=o(1,F,I);s.lastIndexOf=o(-1,D);var $=s.keys=function(t){if(!U(t))return[];if(p)return p(t);var e=[];for(var n in t)Q(t,n)&&e.push(n);return e},q=s.allKeys=function(t){if(!U(t))return[];var e=[];for(var n in t)e.push(n);return e},z=s.values=function(t){for(var e=$(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},V=s.invert=function(t){for(var e={},n=$(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},X=s.extend=x(q),B=s.assign=x($),Y=s.findKey=function(t,e,n){e=E(e,n);for(var i,r=$(t),o=0,s=r.length;s>o;o++)if(i=r[o],e(t[i],i,t))return i},H=s.pick=function(t,e,n){var i,r,o={},a=t;if(null==a)return o;s.isFunction(e)?(r=q(a),i=b(e,n)):(r=N(arguments,!1,!1,1),i=function(t,e,n){return e in n},a=Object(a));for(var c=0,u=r.length;u>c;c++){var l=r[c],h=a[l];i(h,l,a)&&(o[l]=h)}return o};s.omit=function(t,e,n){if(s.isFunction(e))e=s.negate(e);else{var i=M(N(arguments,!1,!1,1),String);e=function(t,e){return!P(i,e)}}return H(t,e,n)},s.defaults=x(q,!0),s.clone=function(t){return U(t)?s.isArray(t)?t.slice():X({},t):t};var W=s.isMatch=function(t,e){var n=$(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;i>o;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};s.isEmpty=function(t){return null==t?!0:k(t)&&(s.isArray(t)||s.isString(t)||s.isArguments(t))?0===t.length:0===$(t).length},s.isElement=function(t){return!(!t||1!==t.nodeType)},s.isArray=d||function(t){return"[object Array]"===h.call(t)};var U=s.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t};C(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){s["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(s.isFunction=function(t){return"function"==typeof t||!1});var G=s.isNaN=function(t){return s.isNumber(t)&&t!==+t},J=s.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===h.call(t)};s.isNull=function(t){return null===t},s.isUndefined=function(t){return void 0===t};var K=s.isWindow=function(t){return null!=t&&t==t.window};s.isPlainObject=function(t){return U(t)&&!K(t)&&Object.getPrototypeOf(t)==Object.prototype},s.isDocument=function(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE};var Q=s.has=function(t,e){return null!=t&&f.call(t,e)};s.inherits=function(t,e){var n,i=this;n=t&&Q(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},X(n,i,e);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,t&&X(n.prototype,t),n.__super__=i.prototype,n};var Z=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=_(t.prototype),s=t.apply(o,r);return U(s)?s:o},tt=s.bind=function(t,e){if(m&&t.bind===m)return m.apply(t,l.call(arguments,1));if(!s.isFunction(t))throw new TypeError("Bind must be called on a function");var n=l.call(arguments,2),i=function(){return Z(t,i,e,this,n.concat(l.call(arguments)))};return i},et=s.partial=function(t){var e=l.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),a=0;r>a;a++)o[a]=e[a]===s?arguments[i++]:e[a];for(;i<arguments.length;)o.push(arguments[i++]);return Z(t,n,this,this,o)};return n};s.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=tt(t[n],t);return t},s.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var c=function(){a=n.leading===!1?0:it(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var u=it();a||n.leading!==!1||(a=u);var l=e-(u-a);return i=this,r=arguments,0>=l||l>e?(s&&(clearTimeout(s),s=null),a=u,o=t.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(c,l)),o}},s.debounce=function(t,e,n){var i,r,o,s,a,c=function(){var u=it()-s;e>u&&u>=0?i=setTimeout(c,e-u):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=it();var u=n&&!i;return i||(i=setTimeout(c,e)),u&&(a=t.apply(o,r),o=r=null),a}},s.negate=function(t){return function(){return!t.apply(this,arguments)}},s.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},s.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},s.once=et(s.before,2),s.noop=function(){};var nt=s.matcher=function(t){return t=B({},t),function(e){return W(e,t)}},it=s.now=Date.now||function(){return(new Date).getTime()},rt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ot=V(rt),st=function(t){var e=function(e){return t[e]},n="(?:"+$(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};s.escape=st(rt),s.unescape=st(ot),s.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),s.isFunction(i)?i.call(t):i};var at=0;s.uniqueId=function(t){var e=++at+"";return t?t+e:e},s.getParameterByName=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),n=e.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},s.camelize=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})};var ct=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,16)}}(),ut=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelRequestAnimationFrame;s.requestAnimationFrame=function(t){return ct(t)},s.cancelAnimationFrame=function(t){ut(t)},s.adjustTitle=function(t){s.requestAnimationFrame(function(){document.title=t})},n.exports=s}),o("mob/logger",function(t,e,n){function i(t,e){e.name&&t.unshift("["+e.name+"]")}var r,o=t("mob/lang"),s={},a={},c=function(t,e){return{value:t,name:e}};s.DEBUG=c(1,"DEBUG"),s.INFO=c(2,"INFO"),s.TIME=c(3,"TIME"),s.WARN=c(4,"WARN"),s.ERROR=c(5,"ERROR"),s.OFF=c(6,"OFF");var u=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};u.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},enabledFor:function(t){var e=this.context.filterLevel;return t.value>=e.value},debug:function(){this.invoke(s.DEBUG,arguments)},info:function(){this.invoke(s.INFO,arguments)},warn:function(){this.invoke(s.WARN,arguments)},error:function(){this.invoke(s.ERROR,arguments)},time:function(t){o.isString(t)&&t.length>0&&this.invoke(s.TIME,[t,"start"])},timeEnd:function(t){o.isString(t)&&t.length>0&&this.invoke(s.TIME,[t,"end"])},invoke:function(t,e){r&&this.enabledFor(t)&&r(e,o.extend({level:t},this.context))}};var l=new u({filterLevel:s.OFF});o.each(["enabledFor","debug","time","timeEnd","info","warn","error"],function(t){s[t]=o.bind(l[t],l)}),s.log=s.info,s.setHandler=function(t){r=t},s.setLevel=function(t){l.setLevel(t);for(var e in a)a.hasOwnProperty(e)&&a[e].setLevel(t)},s.get=function(t){return a[t]||(a[t]=new u(o.extend({name:t},l.context)))},s.useDefaults=function(t){t=t||{},t.formatter=t.formatter||i,o.isUndefined(console)||(s.setLevel(t.defaultLevel||s.DEBUG),s.setHandler(function(e,n){e=Array.prototype.slice.call(e);var i,r=console.log;n.level===s.TIME?(i=(n.name?"["+n.name+"] ":"")+e[0],"start"===e[1]?console.time&&console.time(i):console.timeEnd&&console.timeEnd(i)):(n.level===s.WARN?r=console.warn:n.level===s.ERROR?r=console.error:n.level===s.INFO&&(r=console.info),t.formatter(e,n),r.apply(console,e))}))},n.exports=s}),o("mob/jqlite",function(t,e,n){function i(t){return t=I(t),!(!t.width()&&!t.height())&&"none"!==t.css("display")}function r(t){return Y.call(t,function(e,n){return t.indexOf(e)==n})}function o(t){return"number"==typeof t.length}function s(t){return Y.call(t,function(t){return null!=t})}function a(t){return t.length>0?I.fn.concat.apply([],t):t}function c(t,e){t=t.replace(/=#\]/g,'="#"]');var n,i,r=J.exec(t);if(r&&r[2]in R&&(n=R[r[2]],i=r[3],t=r[1],i)){var o=Number(i);i=isNaN(o)?i.replace(/^["']|["']$/g,""):o}return e(t,n,i)}function u(t,e){if(!e||!t||1!==t.nodeType)return!1;var n,i=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector,r=t.parentNode,o=!r;return i?i.call(t,e):(o&&(r=ot).appendChild(t),n=~V.qsa(r,e).indexOf(t),o&&ot.removeChild(t),n)}function l(t,e){var n,i="#"==e[0],r=!i&&"."==e[0],o=i||r?e.slice(1):e,s=rt.test(o);return q.isDocument(t)&&s&&i?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:B.call(s&&!i?r?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))}function h(t,e){var n="data-"+t.replace(ut,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,e):this.attr(n);return null!==i?N(i):D}function f(t,e){var n=t[pt],i=n&&dt[n];if(z(e))return i||d(t);if(i){if(e in i)return i[e];var r=q.camelize(e);if(r in i)return i[r]}return h.call(I(t),e)}function d(t,e,n){var i=t[pt]||(t[pt]=++W),r=dt[i]||(dt[i]=p(t));return z(e)||(r[q.camelize(e)]=n),r}function p(t){var e={};return I.each(t.attributes||[],function(t,n){0==n.name.indexOf("data-")&&(e[q.camelize(n.name.replace("data-",""))]=N(n.value))}),e}function m(t){return t.evtId||(t.evtId=mt++)}function v(t,e,n,i){if(e=g(e),e.ns)var r=y(e.ns);return(vt[m(t)]||[]).filter(function(t){return!(!t||e.e&&t.e!=e.e||e.ns&&!r.test(t.ns)||n&&m(t.fn)!==m(n)||i&&t.sel!=i)})}function g(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function y(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function w(t,e){return t.del&&!yt&&t.e in wt||!!e}function b(t){return bt[t]||yt&&wt[t]||t}function E(t,e,n,i,r,o,s){var a=m(t),c=vt[a]||(vt[a]=[]);e.split(/\s/).forEach(function(e){if("ready"==e)return I(H).ready(n);var a=g(e);a.fn=n,a.sel=r,a.e in bt&&(n=function(t){var e=t.relatedTarget;return!e||e!==this&&!I.contains(this,e)?a.fn.apply(this,arguments):void 0}),a.del=o;var u=o||n;a.proxy=function(e){if(e=_(e),!e.isImmediatePropagationStopped()){e.data=i;var n=u.apply(t,z(e._args)?[e]:[e].concat(e._args));return n===!1&&(e.preventDefault(),e.stopPropagation()),n}},a.i=c.length,c.push(a),"addEventListener"in t&&t.addEventListener(b(a.e),a.proxy,w(a,s))})}function x(t,e,n,i,r){var o=m(t);(e||"").split(/\s/).forEach(function(e){v(t,e,n,i).forEach(function(e){delete vt[o][e.i],"removeEventListener"in t&&t.removeEventListener(b(e.e),e.proxy,w(e,r))})})}function _(t,e){return(e||!t.isDefaultPrevented)&&(e||(e=t),I.each(St,function(n,i){var r=e[n];t[n]=function(){return this[i]=Et,r&&r.apply(e,arguments)},t[i]=xt}),(z(e.defaultPrevented)?"returnValue"in e?e.returnValue===!1:e.getPreventDefault&&e.getPreventDefault():e.defaultPrevented)&&(t.isDefaultPrevented=Et)),t}function S(t){var e,n={originalEvent:t};for(e in t)_t.test(e)||z(t[e])||(n[e]=t[e]);return _(n,t)}function T(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function k(t){return t in at?at[t]:at[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function C(t,e){return"number"!=typeof e||ct[T(t)]?e:e+"px"}function M(t){var e,n;return st[t]||(e=H.createElement(t),H.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),st[t]=n),st[t]}function A(t){return"children"in t?B.call(t.children):I.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function P(t,e){return null==e?I(t):I(t).filter(e)}function O(t,e,n,i){return q.isFunction(e)?e.call(t,n,i):e}function L(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function j(t,e){var n=t.className||"",i=n&&!z(n.baseVal);return z(e)?i?n.baseVal:n:void(i?n.baseVal=e:t.className=e)}function N(t){try{return t?"true"==t||("false"==t?!1:"null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?I.parseJSON(t):t):t}catch(e){return t}}function F(t,e){e(t);for(var n=0,i=t.childNodes.length;i>n;n++)F(t.childNodes[n],e)}var D,I,R,$,q=t("mob/lang"),z=q.isUndefined,V={},X=Array.prototype,B=X.slice,Y=X.filter,H=window.document,W=0,U=/^\s*<(\w+|!)[^>]*>/,G=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,J=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),K=/^\s*>/,Q="JQLite"+ +new Date,Z=["val","css","html","text","data","width","height","offset"],tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,et=H.createElement("table"),nt=H.createElement("tr"),it={tr:H.createElement("tbody"),tbody:et,thead:et,tfoot:et,td:nt,th:nt,"*":H.createElement("div")},rt=/^[\w-]*$/,ot=H.createElement("div"),st={},at={},ct={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},ut=/([A-Z])/g,lt=/complete|loaded|interactive/,ht=/^(?:body|html)$/i,ft={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},dt={},pt="JQLite"+q.now(),mt=1,vt={},gt={click:"MouseEvents",mousedown:"MouseEvents",mouseup:"MouseEvents",mousemove:"MouseEvents"},yt="onfocusin"in window,wt={focus:"focusin",blur:"focusout"},bt={mouseenter:"mouseover",mouseleave:"mouseout"},Et=function(){return!0},xt=function(){return!1},_t=/^([A-Z]|returnValue$|layer[XY]$)/,St={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};I=function(t,e){return V.init(t,e)},I.expr=[],R=I.expr[":"]={visible:function(){return i(this)?this:void 0},hidden:function(){return i(this)?void 0:this},selected:function(){return this.selected?this:void 0},checked:function(){return this.checked?this:void 0},parent:function(){return this.parentNode},first:function(t){return 0===t?this:void 0},last:function(t,e){return t===e.length-1?this:void 0},eq:function(t,e,n){return t===n?this:void 0},contains:function(t,e,n){return I(this).text().indexOf(n)>-1?this:void 0},has:function(t,e,n){return V.qsa(this,n).length?this:void 0}},I.contains=H.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},I.map=function(t,e){var n,i,r,s=[];if(o(t))for(i=0;i<t.length;i++)n=e(t[i],i),null!=n&&s.push(n);else for(r in t)n=e(t[r],r),null!=n&&s.push(n);return a(s)},I.each=function(t,e){var n,i;if(o(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},I.proxy=function(t,e){var n=2 in arguments&&B.call(arguments,2);if(q.isFunction(t)){var i=function(){return t.apply(e,n?n.concat(B.call(arguments)):arguments)};return i.evtId=m(t),i}if(q.isString(e))return n?(n.unshift(t[e],t),I.proxy.apply(null,n)):I.proxy(t[e],t);throw new TypeError("expected function")},window.JSON&&(I.parseJSON=JSON.parse),V.jQ=function(t,e){return t=t||[],t.__proto__=I.fn,t.selector=e||"",t},V.isJQ=function(t){return t instanceof V.jQ},V.qsa=function(t,e){return c(e,function(n,i,o){try{var s;!n&&i?n="*":K.test(n)&&(s=I(t).addClass(Q),n="."+Q+" "+n);var a=l(t,n)}catch(c){throw q.error("error performing selector: %o",e),c}finally{s&&s.removeClass(Q)}return i?r(I.map(a,function(t,e){return i.call(t,e,a,o)})):a})},V.matches=function(t,e){return c(e,function(e,n,i){return!(e&&!u(t,e)||n&&n.call(t,null,i)!==t)})},V.fragment=function(t,e,n){var i,r,o;return G.test(t)&&(i=I(H.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(tt,"<$1></$2>")),z(e)&&(e=U.test(t)&&RegExp.$1),e in it||(e="*"),o=it[e],o.innerHTML=""+t,i=I.each(B.call(o.childNodes),function(){o.removeChild(this)})),q.isPlainObject(n)&&(r=I(i),I.each(n,function(t,e){Z.indexOf(t)>-1?r[t](e):r.attr(t,e)})),i},V.init=function(t,e){var n;if(!t)return V.jQ();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&U.test(t))n=V.fragment(t,RegExp.$1,e),t=null;else{if(!z(e))return I(e).find(t);n=V.qsa(H,t)}else{if(q.isFunction(t))return I(H).ready(t);if(V.isJQ(t))return t;if(q.isArray(t))n=s(t);else if(q.isObject(t))n=[t],t=null;else if(U.test(t))n=V.fragment(t.trim(),RegExp.$1,e),t=null;else{if(!z(e))return I(e).find(t);n=V.qsa(H,t)}}return V.jQ(n,t)},I.event={add:E,remove:x},I.Event=function(t,e){q.isString(t)||(e=t,t=e.type);var n=H.createEvent(gt[t]||"Events"),i=!0;if(e)for(var r in e)"bubbles"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0),_(n)},I.fn={forEach:X.forEach,indexOf:X.indexOf,concat:X.concat,map:function(t){return I(I.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return I(B.apply(this,arguments))},each:function(t){return X.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},ready:function(t){return lt.test(H.readyState)&&H.body?t(I):H.addEventListener("DOMContentLoaded",function(){t(I)},!1),this},get:function(t){return z(t)?B.call(this):this[t>=0?t:t+this.length]},size:function(){return this.length},remove:function(){var t=this.find("*");return t=t.add(this),t.removeData(),this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},filter:function(t){return q.isFunction(t)?this.not(this.not(t)):I(Y.call(this,function(e){return V.matches(e,t)}))},add:function(t,e){return I(r(this.concat(I(t,e))))},not:function(t){var e=[];if(q.isFunction(t)&&!z(t.call))this.each(function(n){t.call(this,n)||e.push(this)});else{var n="string"==typeof t?this.filter(t):o(t)&&q.isFunction(t.item)?B.call(t):I(t);this.forEach(function(t){n.indexOf(t)<0&&e.push(t)})}return I(e)},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!q.isObject(t)?t:I(t)},find:function(t){var e,n=this;return e=t?"object"==typeof t?I(t).filter(function(){var t=this;return X.some.call(n,function(e){return I.contains(e,t)})}):1==this.length?I(V.qsa(this[0],t)):this.map(function(){return V.qsa(this,t)}):I()},closest:function(t,e){var n=this[0],i=!1;for("object"==typeof t&&(i=I(t));n&&!(i?i.indexOf(n)>=0:V.matches(n,t));)n=n!==e&&!q.isDocument(n)&&n.parentNode;return I(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=I.map(n,function(t){return(t=t.parentNode)&&!q.isDocument(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return P(e,t)},parent:function(t){return P(r(this.pluck("parentNode")),t)},children:function(t){return P(this.map(function(){return A(this)}),t)},contents:function(){return this.map(function(){return B.call(this.childNodes)})},siblings:function(t){return P(this.map(function(t,e){return Y.call(A(e.parentNode),function(t){return t!==e})}),t)},empty:function(){var t=this.find("*");return t.removeData(),this.each(function(){this.innerHTML=""})},pluck:function(t){return I.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=M(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=q.isFunction(t);if(this[0]&&!e)var n=I(t).get(0),i=n.parentNode||this.length>1;return this.each(function(r){I(this).wrapAll(e?t.call(this,r):i?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){I(this[0]).before(t=I(t));for(var e;(e=t.children()).length;)t=e.first();I(t).append(this)}return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=I(this);(z(t)?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return I(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return I(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;I(this).empty().append(O(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=O(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(t,e){var n,i;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(q.isObject(t))for(i in t)L(this,i,t[i]);else L(this,t,O(this,e,n,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:D},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){L(this,t)},this)})},prop:function(t,e){return t=ft[t]||t,1 in arguments?this.each(function(n){this[t]=O(this,e,n,this[t])}):this[0]&&this[0][t]},val:function(t){return 0 in arguments?this.each(function(e){this.value=O(this,t,e,this.value)}):this[0]&&(this[0].multiple?I(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var n=I(this),i=O(this,t,e,n.offset()),r=n.offsetParent().offset(),o={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(t,e){if(arguments.length<2){var n,i=this[0];if(!i)return;if(n=getComputedStyle(i,""),"string"==typeof t)return i.style[q.camelize(t)]||n.getPropertyValue(t);if(q.isArray(t)){var r={};return I.each(t,function(t,e){r[e]=i.style[q.camelize(e)]||n.getPropertyValue(e)}),r}}var o,s="";if(q.isString(t))e||0===e?s=T(t)+":"+C(t,e):this.each(function(){this.style.removeProperty(T(t))});else for(o in t)t[o]||0===t[o]?s+=T(o)+":"+C(o,t[o])+";":this.each(function(){this.style.removeProperty(T(o))});return this.each(function(){this.style.cssText+=";"+s})},hasClass:function(t){return t?X.some.call(this,function(t){return this.test(j(t))},k(t)):!1},addClass:function(t){return t?this.each(function(e){if("className"in this){$=[];var n=j(this),i=O(this,t,e,n);i.split(/\s+/g).forEach(function(t){I(this).hasClass(t)||$.push(t)},this),$.length&&j(this,n+(n?" ":"")+$.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(z(t))return j(this,"");$=j(this),O(this,t,e,$).split(/\s+/g).forEach(function(t){$=$.replace(k(t)," ")}),j(this,$.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var i=I(this),r=O(this,t,n,j(this));r.split(/\s+/g).forEach(function(t){(z(e)?!i.hasClass(t):e)?i.addClass(t):i.removeClass(t)})}):this},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||H.body;t&&!ht.test(t.nodeName)&&"static"==I(t).css("position");)t=t.offsetParent;return t})},data:function(t,e){return z(e)?q.isPlainObject(t)?this.each(function(e,n){I.each(t,function(t,e){d(n,t,e)})}):0 in this?f(this[0],t):D:this.each(function(){d(this,t,e)})},removeData:function(t){return"string"==typeof t&&(t=t.split(/\s+/)),this.each(function(){var e=this[pt],n=e&&dt[e];n&&I.each(t||n,function(e){delete n[t?q.camelize(this):e]})})},on:function(t,e,n,i,r){var o,s,a=this;return t&&!q.isString(t)?(I.each(t,function(t,i){a.on(t,e,n,i,r)}),a):(q.isString(e)||q.isFunction(i)||i===!1||(i=n,n=e,e=D),(q.isFunction(n)||n===!1)&&(i=n,n=D),i===!1&&(i=xt),a.each(function(a,c){r&&(o=function(t){return x(c,t.type,i),i.apply(this,arguments)}),e&&(s=function(t){var n,r=I(t.target).closest(e,c).get(0);return r&&r!==c?(n=q.extend(S(t),{currentTarget:r,liveFired:c}),(o||i).apply(r,[n].concat(B.call(arguments,1)))):void 0}),E(c,t,i,n,e,s||o)}))},off:function(t,e,n){var i=this;return t&&!q.isString(t)?(I.each(t,function(t,n){i.off(t,e,n)}),i):(q.isString(e)||q.isFunction(n)||n===!1||(n=e,e=D),n===!1&&(n=xt),i.each(function(){x(this,t,n,e)}))},bind:function(t,e,n){return this.on(t,e,n)},unbind:function(t,e){return this.off(t,e)},one:function(t,e,n,i){return this.on(t,e,n,i,1)},trigger:function(t,e){return t=q.isString(t)||q.isPlainObject(t)?I.Event(t):_(t),t._args=e,this.each(function(){t.type in wt&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):I(this).triggerHandler(t,e)})},triggerHandler:function(t,e){var n,i;return this.each(function(r,o){n=S(q.isString(t)?I.Event(t):t),n._args=e,n.target=o,I.each(v(o,t.type||t),function(t,e){return i=e.proxy(n),n.isImmediatePropagationStopped()?!1:void 0})}),i}},I.fn.detach=I.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});I.fn[t]=function(n){var i,r=this[0];return z(n)?q.isWindow(r)?r["inner"+e]:q.isDocument(r)?r.documentElement["scroll"+e]:(i=this.offset())&&i[t]:this.each(function(e){r=I(this),r.css(t,O(this,n,e,r[t]()))})}}),["after","prepend","before","append"].forEach(function(t,e){var n=e%2;I.fn[t]=function(){var t,i=I.map(arguments,function(t){return q.isObject(t)||q.isArray(t)||null==t?t:V.fragment(t)}),r=this.length>1;return i.length<1?this:this.each(function(o,s){t=n?s:s.parentNode,s=0==e?s.nextSibling:1==e?s.firstChild:2==e?s:null;var a=I.contains(H.documentElement,t);i.forEach(function(e){if(r)e=e.cloneNode(!0);else if(!t)return I(e).remove();t.insertBefore(e,s),a&&F(e,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},I.fn[n?t+"To":"insert"+(e?"Before":"After")]=function(e){return I(e)[t](this),this}}),V.jQ.prototype=I.fn,I.jqlite=V,n.exports=I}),o("mob/base",function(t,e,n){function i(t,e,n,i){var r=i.split(/\s+/);c.each(r,function(i){var r=t[i];if(!r)throw new Error('Method "'+i+'" was configured as an event handler, but does not exist.');t.listenTo(e,n,r)})}function r(t,e,n,i){t.listenTo(e,n,i)}function o(t,e,n,i){var r=i.split(/\s+/);c.each(r,function(i){var r=t[i];t.stopListening(e,n,r)})}function s(t,e,n,i){t.stopListening(e,n,i)}function a(t,e,n,i,r){if(e&&n){if(!c.isObject(n))throw new Error("Bindings must be an object or function.");n=d(n,t),c.each(n,function(n,o){c.isFunction(n)?i(t,e,o,n):r(t,e,o,n)})}}var c=t("mob/lang"),u=t("mob/jqlite");e.isNodeAttached=function(t){return u.contains(document.documentElement,t)};var l=e._triggerMethod=function(){function t(t,e,n){return n.toUpperCase()}var e=/(^|:)(\w)/gi;return function(n,i,r){var o=arguments.length<3;o&&(r=i,i=r[0]);var s,a="on"+i.replace(e,t),u=n[a];return c.isFunction(u)&&(s=u.apply(n,o?c.rest(r):r)),c.isFunction(n.trigger)&&(o+r.length>1?n.trigger.apply(n,o?r:[i].concat(c.rest(r,0))):n.trigger(i)),s}}(),h=e.triggerMethod=function(t){return l(this,arguments)};e.triggerMethodOn=function(t){var e=c.isFunction(t.triggerMethod)?t.triggerMethod:h;return e.apply(t,c.rest(arguments))},e.mergeOptions=function(t,e){t&&c.extend(this,c.pick(t,e))};var f=e.getOption=function(t,e){return t&&e?t.options&&void 0!==t.options[e]?t.options[e]:t[e]:void 0};e.proxyGetOption=function(t){return f(this,t)};var d=e._getValue=function(t,e,n){return c.isFunction(t)&&(t=n?t.apply(e,n):t.call(e)),t};e.getValue=function(t,e){return t&&t[e]?c.isFunction(t[e])?t[e]():t[e]:null};var p=e.bindEntityEvents=function(t,e,n){a(t,e,n,r,i)},m=e.unbindEntityEvents=function(t,e,n){a(t,e,n,s,o)};e.proxyBindEntityEvents=function(t,e){return p(this,t,e)},e.proxyUnbindEntityEvents=function(t,e){return m(this,t,e)}}),
o("mob/class",function(t,e,n){var i=t("mob/lang"),r=t("mob/base"),o=t("mob/events"),s=function(t){this.options=i.extend({},i.result(this,"options"),t),this.initialize.apply(this,arguments)};s.extend=i.inherits,i.extend(s.prototype,o,{initialize:function(){},destroy:function(){return this.triggerMethod("before:destroy"),this.triggerMethod("destroy"),this.stopListening(),this},triggerMethod:r.triggerMethod,mergeOptions:r.mergeOptions,getOption:r.proxyGetOption,bindEntityEvents:r.proxyBindEntityEvents,unbindEntityEvents:r.proxyUnbindEntityEvents}),n.exports=s}),o("mob/events",function(t,e,n){var i=t("mob/lang"),r=function(t,e,n,o,s){var a,c=0,u=/\s+/;if(n&&"object"==typeof n){void 0!==o&&"context"in s&&void 0===s.context&&(s.context=o);for(a=i.keys(n);c<a.length;c++)e=r(t,e,a[c],n[a[c]],s)}else if(n&&u.test(n))for(a=n.split(u);c<a.length;c++)e=t(e,a[c],o,s);else e=t(e,n,o,s);return e},o=function(t,e,n,i,o){if(t._events=r(s,t._events||{},e,n,{context:i,ctx:t,listening:o}),o){var a=t._listeners||(t._listeners={});a[o.id]=o}return t},s=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,s=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:o,ctx:o||s,listening:a})}return t},a=function(t,e,n,r){if(t){var o,s=0,a=r.context,c=r.listeners;if(e||n||a){for(var u=e?[e]:i.keys(t);s<u.length;s++){e=u[s];var l=t[e];if(!l)break;for(var h=[],f=0;f<l.length;f++){var d=l[f];n&&n!==d.callback&&n!==d.callback._callback||a&&a!==d.context?h.push(d):(o=d.listening,o&&0===--o.count&&(delete c[o.id],delete o.listeningTo[o.objId]))}h.length?t[e]=h:delete t[e]}return i.size(t)?t:void 0}for(var p=i.keys(c);s<p.length;s++)o=c[p[s]],delete c[o.id],delete o.listeningTo[o.objId]}},c=function(t,e,n,r){if(n){var o=t[e]=i.once(function(){r(e,o),n.apply(this,arguments)});o._callback=n}return t},u=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&l(r,i),o&&l(o,[e].concat(i))}return t},l=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}},h={on:function(t,e,n){return o(this,t,e,n)},listenTo:function(t,e,n){if(!t)return this;var r=t._listenId||(t._listenId=i.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),a=s[r];if(!a){var c=this._listenId||(this._listenId=i.uniqueId("l"));a=s[r]={obj:t,objId:r,id:c,listeningTo:s,count:0}}return o(t,e,n,this,a),this},off:function(t,e,n){return this._events?(this._events=r(a,this._events,t,e,{context:n,listeners:this._listeners}),this):this},stopListening:function(t,e,n){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:i.keys(r),s=0;s<o.length;s++){var a=r[o[s]];if(!a)break;a.obj.off(e,n,this)}return i.isEmpty(r)&&(this._listeningTo=void 0),this},once:function(t,e,n){var o=r(c,{},t,e,i.bind(this.off,this));return this.on(o,void 0,n)},listenToOnce:function(t,e,n){var o=r(c,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,o)},trigger:function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;e>i;i++)n[i]=arguments[i+1];return r(u,this._events,t,void 0,n),this}};n.exports=h}),o("mob/http",function(t,e,n){function i(t,e,n){var i=w.Event(e);return w(t).trigger(i,n),!i.isDefaultPrevented()}function r(t,e,n,r){return t.global?i(e||E,n,r):void 0}function o(t){t.global&&0===b.active++&&r(t,null,"ajaxStart")}function s(t){t.global&&!--b.active&&r(t,null,"ajaxStop")}function a(t,e){var n=e.context;return e.beforeSend.call(n,t,e)===!1||r(e,n,"ajaxBeforeSend",[t,e])===!1?!1:void r(e,n,"ajaxSend",[t,e])}function c(t,e,n){var i=n.context,o="success";n.success.call(i,t,o,e),r(n,i,"ajaxSuccess",[e,n,t]),l(o,e,n)}function u(t,e,n,i){var o=i.context;i.error.call(o,n,e,t),r(i,o,"ajaxError",[n,i,t||e]),l(e,n,i)}function l(t,e,n){var i=n.context;n.complete.call(i,e,t),r(n,i,"ajaxComplete",[e,n]),s(n)}function h(t){return t&&(t=t.split(";",2)[0]),t&&(t==T?"html":t==S?"json":x.test(t)?"script":_.test(t)&&"xml")||"text"}function f(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function d(t){t.processData&&t.data&&!y.isString(t.data)&&(t.data=A(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=f(t.url,t.data),t.data=void 0)}function p(t,e,n,i){var r=y.isArray(e),o=y.isPlainObject(e);y.each(e,function(e,s){i&&(s=n?i:i+"["+(o||y.isObject(e)||y.isArray(e)?s:"")+"]"),!i&&r?t.add(e.name,e.value):y.isArray(e)||!n&&y.isObject(e)?p(t,e,n,s):t.add(s,e)})}function m(t,e,n,i){return y.isFunction(e)&&(i=n,n=e,e=void 0),y.isFunction(n)||(i=n,n=void 0),{url:t,data:e,success:n,dataType:i}}var v,g,y=t("mob/lang"),w=t("mob/jqlite"),b={},E=window.document,x=/^(?:text|application)\/javascript/i,_=/^(?:text|application)\/xml/i,S="application/json",T="text/html",k=/^\s*$/,C=E.createElement("a");C.href=window.location.href,b.active=0;var M=encodeURIComponent,A=function(t,e){var n=[];return n.add=function(t,e){y.isFunction(e)&&(e=e()),null==e&&(e=""),this.push(M(t)+"="+M(e))},p(n,t,e),n.join("&").replace(/%20/g,"+")};b.ajaxSettings={type:"GET",beforeSend:y.noop,success:y.noop,error:y.noop,complete:y.noop,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:S,xml:"application/xml, text/xml",html:T,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},b.ajax=function(t){var e,n=y.extend({},t||{});for(v in b.ajaxSettings)void 0===n[v]&&(n[v]=b.ajaxSettings[v]);o(n),n.crossDomain||(e=E.createElement("a"),e.href=n.url,e.href=e.href,n.crossDomain=C.protocol+"//"+C.host!=e.protocol+"//"+e.host),n.url||(n.url=window.location.toString()),d(n);var i=n.dataType;n.cache!==!1&&(t&&t.cache===!0||"script"!=i&&"jsonp"!=i)||(n.url=f(n.url,"_="+Date.now()));var r,s=n.accepts[i],l={},p=function(t,e){l[t.toLowerCase()]=[t,e]},m=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,w=n.xhr(),x=w.setRequestHeader;if(n.crossDomain||p("X-Requested-With","XMLHttpRequest"),p("Accept",s||"*/*"),(s=n.mimeType||s)&&(s.indexOf(",")>-1&&(s=s.split(",",2)[0]),w.overrideMimeType&&w.overrideMimeType(s)),(n.contentType||n.contentType!==!1&&n.data&&"GET"!=n.type.toUpperCase())&&p("Content-Type",n.contentType||"application/x-www-form-urlencoded"),n.headers)for(g in n.headers)p(g,n.headers[g]);if(w.setRequestHeader=p,w.onreadystatechange=function(){if(4==w.readyState){w.onreadystatechange=y.noop,clearTimeout(r);var t,e=!1;if(w.status>=200&&w.status<300||304==w.status||0==w.status&&"file:"==m){i=i||h(n.mimeType||w.getResponseHeader("content-type")),t=w.responseText;try{"script"==i?(1,eval)(t):"xml"==i?t=w.responseXML:"json"==i&&(t=k.test(t)?null:JSON.parse(t))}catch(o){e=o}e?u(e,"parsererror",w,n):c(t,w,n)}else u(w.statusText||null,w.status?"error":"abort",w,n)}},a(w,n)===!1)return w.abort(),u(null,"abort",w,n),w;if(n.xhrFields)for(g in n.xhrFields)w[g]=n.xhrFields[g];var _="async"in n?n.async:!0;w.open(n.type,n.url,_,n.username,n.password);for(g in l)x.apply(w,l[g]);return n.timeout>0&&(r=setTimeout(function(){w.onreadystatechange=y.noop,w.abort(),u(null,"timeout",w,n)},n.timeout)),w.send(n.data?n.data:null),w},b.get=function(){return b.ajax(m.apply(null,arguments))},b.post=function(){var t=m.apply(null,arguments);return t.type="POST",b.ajax(t)},n.exports=b}),o("mob/storage",function(t,e,n){var i=t("mob/lang"),r=function(t){var e=this;this.options=t||{},this.name=this.options.name||"store",i.isArray(this.options.type)?i.each(this.options.type,function(t,n){return r.isAvailable(t)?(e.type=t,!1):void 0}):this.type=this.options.type||"memory",this.meta_key=this.options.meta_key||"__keys__",this.storage=new r[r.stores[this.type]](this.name,this.options)};r.stores={memory:"Memory",data:"Data",local:"LocalStorage",session:"SessionStorage",cookie:"Cookie"},i.extend(r.prototype,{isAvailable:function(){return i.isFunction(this.storage.isAvailable)?this.storage.isAvailable():!0},exists:function(t){return this.storage.exists(t)},set:function(t,e){var n="string"==typeof e?e:JSON.stringify(e);return t=t.toString(),this.storage.set(t,n),t!=this.meta_key&&this._addKey(t),e},get:function(t){var e=this.storage.get(t);if("undefined"==typeof e||null==e||""==e)return e;try{return JSON.parse(e)}catch(n){return e}},clear:function(t){return this._removeKey(t),this.storage.clear(t)},clearAll:function(){var t=this;this.each(function(e,n){t.clear(e)})},keys:function(){return this.get(this.meta_key)||[]},each:function(t){var e,n=0,i=this.keys();for(n;n<i.length;n++)if(e=t(i[n],this.get(i[n])),e===!1)return!1},filter:function(t){var e=[];return this.each(function(n,i){return t(n,i)&&e.push([n,i]),!0}),e},first:function(t){var e=!1;return this.each(function(n,i){return t(n,i)?(e=[n,i],!1):void 0}),e},fetch:function(t,e){return this.exists(t)?this.get(t):this.set(t,e.apply(this))},_addKey:function(t){var e=this.keys();-1==i.indexOf(e,t)&&e.push(t),this.set(this.meta_key,e)},_removeKey:function(t){var e=this.keys(),n=i.indexOf(e,t);-1!=n&&e.splice(n,1),this.set(this.meta_key,e)}}),r.isAvailable=function(t){try{return r[r.stores[t]].prototype.isAvailable()}catch(e){return!1}},r.Cookie=function(t,e){this.name=t,this.options=e||{},this.path=this.options.path||"/",this.expires_in=this.options.expires_in||1209600},i.extend(r.Cookie.prototype,{isAvailable:function(){return"cookie"in document&&"file:"!=window.location.protocol},exists:function(t){return null!=this.get(t)},set:function(t,e){return this._setCookie(t,e)},get:function(t){return this._getCookie(t)},clear:function(t){this._setCookie(t,"",-1)},_key:function(t){return["store",this.name,t].join(".")},_getCookie:function(t){var e=this._key(t).replace(/(\.|\*|\(|\)|\[|\])/g,"\\$1"),n=document.cookie.match("(^|;\\s)"+e+"=([^;]*)(;|$)");return n?n[2]:null},_setCookie:function(t,e,n){n||(n=1e3*this.expires_in);var i=new Date;i.setTime(i.getTime()+n);var r=[this._key(t),"=",e,"; expires=",i.toGMTString(),"; path=",this.path].join("");document.cookie=r}}),r.LocalStorage=function(t){this.name=t},i.extend(r.LocalStorage.prototype,{isAvailable:function(){return"localStorage"in window&&"file:"!=window.location.protocol},exists:function(t){return null!=this.get(t)},set:function(t,e){return window.localStorage.setItem(this._key(t),e)},get:function(t){return window.localStorage.getItem(this._key(t))},clear:function(t){window.localStorage.removeItem(this._key(t))},_key:function(t){return["store",this.name,t].join(".")}}),r.Memory=function(t){this.name=t,this.namespace=this.name,r.Memory.store=r.Memory.store||{},r.Memory.store[this.namespace]=r.Memory.store[this.namespace]||{},this.store=r.Memory.store[this.namespace]},i.extend(r.Memory.prototype,{isAvailable:function(){return!0},exists:function(t){return"undefined"!=typeof this.store[t]},set:function(t,e){return this.store[t]=e},get:function(t){return this.store[t]},clear:function(t){delete this.store[t]}}),r.SessionStorage=function(t){this.name=t},i.extend(r.SessionStorage.prototype,{isAvailable:function(){return"sessionStorage"in window&&"file:"!=window.location.protocol&&i.isFunction(window.sessionStorage.setItem)},exists:function(t){return null!=this.get(t)},set:function(t,e){return window.sessionStorage.setItem(this._key(t),e)},get:function(t){var e=window.sessionStorage.getItem(this._key(t));return e&&"undefined"!=typeof e.value&&(e=e.value),e},clear:function(t){window.sessionStorage.removeItem(this._key(t))},_key:function(t){return["store",this.name,t].join(".")}}),n.exports=r}),o("mob/support",function(t,e,n){var i={addEventListener:!!window.addEventListener,transitions:function(t){var e=["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"];for(var n in e)if(void 0!==t.style[e[n]])return!0;return!1}(document.createElement("swipe")),touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transform3d:function(){var t,e,n,i,r;return t=document.getElementsByTagName("head")[0],e=document.body,n=document.createElement("style"),n.textContent="@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-webkit-transform-3d){#mo-3dtest{height:3px}}",i=document.createElement("div"),i.id="mo-3dtest",t.appendChild(n),e.appendChild(i),r=3===i.offsetHeight,n.parentNode.removeChild(n),i.parentNode.removeChild(i),r},animationEvents:"undefined"!=typeof window.WebKitAnimationEvent};n.exports=i}),o("mob/view",function(t,e,n){var i=t("mob/lang"),r=t("mob/jqlite"),o=t("mob/events"),s=(t("mob/base"),/^(\S+)\s*(.*)$/),a=["data","options","el","id","attributes","className","tagName","events"],c=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,a)),this._ensureElement(),this.initialize.apply(this,arguments)};i.extend(c.prototype,o,{tagName:"div",$:function(t){return this.$el.find(t)},"super":function(t){for(var e,n=c.prototype["super"].caller,r=this;r&&i.isFunction(r[t]);r=r.constructor.__super__)if(e){if(r[t]!=n)return r[t].apply(this,[].slice.call(arguments,1))}else e=!0},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=r(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var r=e.match(s);this.delegate(r[1],r[2],i.bind(n,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t["class"]=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),c.extend=i.inherits,n.exports=c}),o("mob/platform",function(t,e,n){function i(){d.isWebView()?document.addEventListener("deviceready",r,!1):r(),o&&window.removeEventListener("load",i,!1)}function r(){d.isReady=!0,d.detect();for(var t=0;t<v.length;t++)v[t]();v=[],f(function(){c.addClass("platform-ready")})}var o,s=t("mob/lang"),a=t("mob/jqlite"),c=a("body"),u="ios",l="android",h="windowsphone",f=s.requestAnimationFrame,d={navigator:window.navigator,isReady:!1,isFullScreen:!1,platforms:null,grade:null,ua:navigator.userAgent,ready:function(t){d.isReady?t():v.push(t)},detect:function(){d._checkPlatforms(),f(function(){for(var t=0;t<d.platforms.length;t++)c.addClass("platform-"+d.platforms[t])})},setGrade:function(t){var e=d.grade;d.grade=t,f(function(){e&&c.removeClass("grade-"+e),c.addClass("grade-"+t)})},device:function(){return window.device||{}},_checkPlatforms:function(){d.platforms=[];var t="a";d.isWebView()?(d.platforms.push("webview"),window.cordova||window.PhoneGap||window.phonegap?d.platforms.push("cordova"):window.forge&&d.platforms.push("trigger")):d.platforms.push("browser"),d.isIPad()&&d.platforms.push("ipad");var e=d.platform();if(e){d.platforms.push(e);var n=d.version();if(n){var i=n.toString();i.indexOf(".")>0?i=i.replace(".","_"):i+="_0",d.platforms.push(e+i.split("_")[0]),d.platforms.push(e+i),d.isAndroid()&&4.4>n?t=4>n?"c":"b":d.isWindowsPhone()&&(t="b")}}d.setGrade(t)},isWebView:function(){return!!(window.cordova||window.PhoneGap||window.phonegap||window.forge)},isIPad:function(){return/iPad/i.test(d.navigator.platform)?!0:/iPad/i.test(d.ua)},isIOS:function(){return d.is(u)},isAndroid:function(){return d.is(l)},isWindowsPhone:function(){return d.is(h)},isMobile:function(){return!!d.ua.match(/android|webos|ip(hone|ad|od)|opera (mini|mobi|tablet)|iemobile|windows.+(phone|touch)|mobile|fennec|kindle (Fire)|Silk|maemo|blackberry|playbook|bb10\; (touch|kbd)|Symbian(OS)|Ubuntu Touch/i)},platform:function(){return null===p&&d.setPlatform(d.device().platform),p},setPlatform:function(t){p="undefined"!=typeof t&&null!==t&&t.length?t.toLowerCase():s.getParameterByName("ionicplatform")?s.getParameterByName("ionicplatform"):d.ua.indexOf("Android")>0?l:/iPhone|iPad|iPod/.test(d.ua)?u:d.ua.indexOf("Windows Phone")>-1?h:d.navigator.platform&&navigator.platform.toLowerCase().split(" ")[0]||""},version:function(){return null===m&&d.setVersion(d.device().version),m},setVersion:function(t){if("undefined"!=typeof t&&null!==t&&(t=t.split("."),t=parseFloat(t[0]+"."+(t.length>1?t[1]:0)),!isNaN(t)))return void(m=t);m=0;var e=d.platform(),n={android:/Android (\d+).(\d+)?/,ios:/OS (\d+)_(\d+)?/,windowsphone:/Windows Phone (\d+).(\d+)?/};n[e]&&(t=d.ua.match(n[e]),t&&t.length>2&&(m=parseFloat(t[1]+"."+t[2])))},is:function(t){if(t=t.toLowerCase(),d.platforms)for(var e=0;e<d.platforms.length;e++)if(d.platforms[e]===t)return!0;var n=d.platform();return n?n===t.toLowerCase():d.ua.toLowerCase().indexOf(t)>=0},exitApp:function(){d.ready(function(){navigator.app&&navigator.app.exitApp&&navigator.app.exitApp()})},showStatusBar:function(t){d._showStatusBar=t,d.ready(function(){f(function(){d._showStatusBar?(window.StatusBar&&window.StatusBar.show(),c.removeClass("status-bar-hide")):(window.StatusBar&&window.StatusBar.hide(),c.addClass("status-bar-hide"))})})},fullScreen:function(t,e){d.isFullScreen=t!==!1,a(document).ready(function(){f(function(){d.isFullScreen?c.addClass("fullscreen"):c.removeClass("fullscreen")}),d.showStatusBar(e===!0)})}},p=null,m=null,v=[];d.initialize=function(){"complete"===document.readyState?i():(o=!0,window.addEventListener("load",i,!1))},n.exports=d}),o("mob/touch",function(t,e,n){function i(t,e){function n(t,e){return function(){return t.apply(e,arguments)}}var r;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!i.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,c=0,u=o.length;u>c;c++)s[o[c]]=n(s[o[c]],s);a&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,n.hijacked||n,i):r.call(t,e,n,i)},t.addEventListener=function(e,n,i){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(t,e,n,i)}),"function"==typeof t.onclick&&(r=t.onclick,t.addEventListener("click",function(t){r(t)},!1),t.onclick=null)}}var r=t("mob/lang"),o=t("mob/jqlite"),s=navigator.userAgent.indexOf("Windows Phone")>=0,a=navigator.userAgent.indexOf("Android")>0&&!s,c=/iP(ad|hone|od)/.test(navigator.userAgent)&&!s,u=c&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l=c&&/OS [6-7]_\d/.test(navigator.userAgent),h=navigator.userAgent.indexOf("BB10")>0;i.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(c&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},i.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},i.prototype.sendClick=function(t,e){var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},i.prototype.determineEventType=function(t){return a&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},i.prototype.focus=function(t){var e;c&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},i.prototype.updateScrollParent=function(t){var e,n;if(e=t.touchClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.touchClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.touchClickLastScrollTop=e.scrollTop)},i.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},i.prototype.onTouchStart=function(t){var e,n,i;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],c){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!u){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},i.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},i.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},i.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},i.prototype.onTouchEnd=function(t){var e,n,i,r,o,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,l&&(o=t.changedTouches[0],s=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||s,s.touchClickScrollParent=this.targetElement.touchClickScrollParent),i=s.tagName.toLowerCase(),"label"===i){if(e=this.findControl(s)){if(this.focus(s),a)return!1;s=e}}else if(this.needsFocus(s))return t.timeStamp-n>100||c&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(s),this.sendClick(s,t),c&&"select"===i||(this.targetElement=null,t.preventDefault()),!1);return c&&!u&&(r=s.touchClickScrollParent,r&&r.touchClickLastScrollTop!==r.scrollTop)?!0:(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},i.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},i.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},i.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},i.prototype.destroy=function(){var t=this.layer;a&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},i.notNeeded=function(t){var e,n,i,r;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(h&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction?!0:(r=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],r>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction?!0:!1)},i.attach=function(t,e){return new i(t,e)},i.initialize=function(t){return r.isUndefined(t)&&(t=document.body),i.attach(o(t).get(0))},n.exports=i}),o("mob/scroller",function(t,e,n){function i(t,e){this.wrapper="string"==typeof t?document.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var n in e)this.options[n]=e[n];this.translateZ=this.options.HWCompositing&&o.hasPerspective?" translateZ(0)":"",this.options.useTransition=o.hasTransition&&this.options.useTransition,this.options.useTransform=o.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?o.ease[this.options.bounceEasing]||o.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}var r=t("mob/lang"),o=function(){function t(t){return i===!1?!1:""===i?t:i+t.charAt(0).toUpperCase()+t.substr(1)}var e={},n=document.createElement("div").style,i=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],i=0,r=e.length;r>i;i++)if(t=e[i]+"ransform",t in n)return e[i].substr(0,e[i].length-1);return!1}();e.addEvent=function(t,e,n,i){t.addEventListener(e,n,!!i)},e.removeEvent=function(t,e,n,i){t.removeEventListener(e,n,!!i)},e.prefixPointerEvent=function(t){return window.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t},e.momentum=function(t,e,n,i,r,o){var s,a,c=t-e,u=Math.abs(c)/n;return o=void 0===o?6e-4:o,s=t+u*u/(2*o)*(0>c?-1:1),a=u/o,i>s?(s=r?i-r/2.5*(u/8):i,c=Math.abs(s-t),a=c/u):s>0&&(s=r?r/2.5*(u/8):0,c=Math.abs(t)+s,a=c/u),{destination:Math.round(s),duration:a}};var o=t("transform");return r.extend(e,{hasTransform:o!==!1,hasPerspective:t("perspective")in n,hasTouch:"ontouchstart"in window,hasPointer:window.PointerEvent||window.MSPointerEvent,hasTransition:t("transition")in n}),e.isBadAndroid=/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion),r.extend(e.style={},{transform:o,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin")}),e.offset=function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return{left:e,top:n}},e.preventDefaultException=function(t,e){for(var n in e)if(e[n].test(t[n]))return!0;return!1},r.extend(e.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),r.extend(e.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return Math.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,n=.4;return 0===t?0:1==t?1:n*Math.pow(2,-10*t)*Math.sin(2*(t-e/4)*Math.PI/e)+1}}}),e.tap=function(t,e){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.pageX=t.pageX,n.pageY=t.pageY,t.target.dispatchEvent(n)},e.click=function(t){var e,n=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||(e=document.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,t.view,1,n.screenX,n.screenY,n.clientX,n.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e._constructed=!0,n.dispatchEvent(e))},e}();i.prototype={_init:function(){this._initEvents()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(!(1!=o.eventType[t.type]&&0!==t.button||!this.enabled||this.initiated&&o.eventType[t.type]!==this.initiated)){!this.options.preventDefault||o.isBadAndroid||o.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,n=t.touches?t.touches[0]:t;this.initiated=o.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=r.now(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(Math.round(e.x),Math.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&o.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,n,i,s,a=t.touches?t.touches[0]:t,c=a.pageX-this.pointX,u=a.pageY-this.pointY,l=r.now();if(this.pointX=a.pageX,this.pointY=a.pageY,this.distX+=c,this.distY+=u,i=Math.abs(this.distX),s=Math.abs(this.distY),!(l-this.endTime>300&&10>i&&10>s)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=i>s+this.options.directionLockThreshold?"h":s>=i+this.options.directionLockThreshold?"v":"n"),
"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);u=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);c=0}c=this.hasHorizontalScroll?c:0,u=this.hasVerticalScroll?u:0,e=this.x+c,n=this.y+u,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+c/3:e>0?0:this.maxScrollX),(n>0||n<this.maxScrollY)&&(n=this.options.bounce?this.y+u/3:n>0?0:this.maxScrollY),this.directionX=c>0?-1:0>c?1:0,this.directionY=u>0?-1:0>u?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,n),l-this.startTime>300&&(this.startTime=l,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&o.eventType[t.type]===this.initiated){this.options.preventDefault&&!o.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,n,i=(t.changedTouches?t.changedTouches[0]:t,r.now()-this.startTime),s=Math.round(this.x),a=Math.round(this.y),c=Math.abs(s-this.startX),u=Math.abs(a-this.startY),l=0,h="";if(this.isInTransition=0,this.initiated=0,this.endTime=r.now(),!this.resetPosition(this.options.bounceTime))return this.scrollTo(s,a),this.moved?this._events.flick&&200>i&&100>c&&100>u?void this._execEvent("flick"):(this.options.momentum&&300>i&&(e=this.hasHorizontalScroll?o.momentum(this.x,this.startX,i,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:s,duration:0},n=this.hasVerticalScroll?o.momentum(this.y,this.startY,i,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:a,duration:0},s=e.destination,a=n.destination,l=Math.max(e.duration,n.duration),this.isInTransition=1),s!=this.x||a!=this.y?((s>0||s<this.maxScrollX||a>0||a<this.maxScrollY)&&(h=o.ease.quadratic),void this.scrollTo(s,a,l,h)):void this._execEvent("scrollEnd")):(this.options.tap&&o.tap(t,this.options.tap),this.options.click&&o.click(t),void this._execEvent("scrollCancel"))}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,n=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),e==this.x&&n==this.y?!1:(this.scrollTo(e,n,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=o.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var n=this._events[t].indexOf(e);n>-1&&this._events[t].splice(n,1)}},_execEvent:function(t){if(this._events[t]){var e=0,n=this._events[t].length;if(n)for(;n>e;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,n,i){t=this.x+t,e=this.y+e,n=n||0,this.scrollTo(t,e,n,i)},scrollTo:function(t,e,n,i){i=i||o.ease.circular,this.isInTransition=this.options.useTransition&&n>0,!n||this.options.useTransition&&i.style?(this._transitionTimingFunction(i.style),this._transitionTime(n),this._translate(t,e)):this._animate(t,e,n,i.fn)},scrollToElement:function(t,e,n,i,r){if(t=t.nodeType?t:this.scroller.querySelector(t)){var s=o.offset(t);s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top,n===!0&&(n=Math.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),i===!0&&(i=Math.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),s.left-=n||0,s.top-=i||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,e=void 0===e||null===e||"auto"===e?Math.max(Math.abs(this.x-s.left),Math.abs(this.y-s.top)):e,this.scrollTo(s.left,s.top,e,r)}},_transitionTime:function(t){t=t||0,this.scrollerStyle[o.style.transitionDuration]=t+"ms",!t&&o.isBadAndroid&&(this.scrollerStyle[o.style.transitionDuration]="0.001s")},_transitionTimingFunction:function(t){this.scrollerStyle[o.style.transitionTimingFunction]=t},_translate:function(t,e){this.options.useTransform?this.scrollerStyle[o.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=Math.round(t),e=Math.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e},_initEvents:function(t){var e=t?o.removeEvent:o.addEvent,n=this.options.bindToWrapper?this.wrapper:window;e(window,"orientationchange",this),e(window,"resize",this),this.options.click&&e(this.wrapper,"click",this,!0),this.options.disableMouse||(e(this.wrapper,"mousedown",this),e(n,"mousemove",this),e(n,"mousecancel",this),e(n,"mouseup",this)),o.hasPointer&&!this.options.disablePointer&&(e(this.wrapper,o.prefixPointerEvent("pointerdown"),this),e(n,o.prefixPointerEvent("pointermove"),this),e(n,o.prefixPointerEvent("pointercancel"),this),e(n,o.prefixPointerEvent("pointerup"),this)),o.hasTouch&&!this.options.disableTouch&&(e(this.wrapper,"touchstart",this),e(n,"touchmove",this),e(n,"touchcancel",this),e(n,"touchend",this)),e(this.scroller,"transitionend",this),e(this.scroller,"webkitTransitionEnd",this),e(this.scroller,"oTransitionEnd",this),e(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,e,n=window.getComputedStyle(this.scroller,null);return this.options.useTransform?(n=n[o.style.transform].split(")")[0].split(", "),t=+(n[12]||n[4]),e=+(n[13]||n[5])):(t=+n.left.replace(/[^-\d.]/g,""),e=+n.top.replace(/[^-\d.]/g,"")),{x:t,y:e}},_animate:function(t,e,n,i){function o(){var h,f,d,p=r.now();return p>=l?(s.isAnimating=!1,s._translate(t,e),void(s.resetPosition(s.options.bounceTime)||s._execEvent("scrollEnd"))):(p=(p-u)/n,d=i(p),h=(t-a)*d+a,f=(e-c)*d+c,s._translate(h,f),void(s.isAnimating&&r.requestAnimationFrame(o)))}var s=this,a=this.x,c=this.y,u=r.now(),l=u+n;this.isAnimating=!0,o()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},n.exports=i}),o("mob/transition",function(t,e,n){function i(t,e,n){u.unshift({screen:t,animation:e,hash:n||location.hash,id:t.attr("id")})}function r(t){var e={up:"down",down:"up",left:"right",right:"left","in":"out",out:"in"};return e[t]||t}var o=t("mob/support"),s=t("mob/lang"),a=t("mob/jqlite"),c=t("mob/logger"),u=[],l=[{name:"cubeleft",is3d:!0},{name:"cuberight",is3d:!0},{name:"dissolve"},{name:"fade"},{name:"flipleft",is3d:!0},{name:"flipright",is3d:!0},{name:"pop",is3d:!0},{name:"swapleft",is3d:!0},{name:"swapright",is3d:!0},{name:"slidedown"},{name:"slideright"},{name:"slideup"},{name:"slideleft"}],h={options:{useAnimations:!0,defaultAnimation:"slideleft",tapBuffer:100,trackScrollPositions:!1,updateHash:!0},$currentScreen:a(".mo-screen.current"),$body:a(".mo-body"),addAnimation:function(t){s.isString(t.name)&&l.push(t)},transit:function(t,e,n,l,f){function d(i){var r=h.options.tapBuffer;o.animationEvents&&n&&h.options.useAnimations?(t.unbind("webkitAnimationEnd",d),t.removeClass(p+" out inmotion"),p&&e.removeClass(p),h.$body.removeClass("animating animating3d"),h.options.trackScrollPositions===!0&&(e.css("top",-e.data("lastScroll")),setTimeout(function(){e.css("top",0),window.scroll(0,e.data("lastScroll")),a(".mo-scroll",e).each(function(){this.scrollTop=-a(this).data("lastScroll")})},0))):(t.removeClass(p+" out inmotion"),p&&e.removeClass(p),r+=260),setTimeout(function(){e.removeClass("in"),window.scroll(0,0)},r),e.trigger("screenAnimationEnd",{direction:"in",animation:n,back:l}),t.trigger("screenAnimationEnd",{direction:"out",animation:n,back:l})}if(l=l?l:!1,s.isUndefined(e)||0===e.length)return!1;if(e.hasClass("current"))return!1;if(a(":focus").trigger("blur"),t.trigger("screenAnimationStart",{direction:"out",back:l}),e.trigger("screenAnimationStart",{direction:"in",back:l}),o.animationEvents&&n&&h.options.useAnimations){!o.transform3d()&&n.is3d&&(c.warn("Did not detect support for 3d animations, falling back to "+h.options.defaultAnimation+"."),n.name=h.options.defaultAnimation);var p=n.name,m=n.is3d?"animating3d":"";l&&(p=p.replace(/left|right|up|down|in|out/,r)),c.warn("finalAnimationName is "+p+"."),setTimeout(function(){d()},250),h.$body.addClass("animating "+m);var v=window.pageYOffset;h.options.trackScrollPositions===!0&&e.css("top",window.pageYOffset-(e.data("lastScroll")||0)),e.addClass(p+" in current"),t.removeClass("current").addClass(p+" out inmotion"),h.options.trackScrollPositions===!0&&(t.data("lastScroll",v),a(".mo-scroll",t).each(function(){a(this).data("lastScroll",h.scrollTop)}))}else e.addClass("current in"),t.removeClass("current"),d();return h.$currentScreen=e,l?u.shift():i(h.$currentScreen,n,f),f&&h.setHash(f),!0},goBack:function(){if(u.length<1)return c.warn("History is empty."),!1;1===u.length&&(c.warn("You are on the first panel."),window.history.go(-1));var t=u[0],e=u[1];return e&&e.screen&&(e.hash&&h.setHash(e.hash),h.transit(t.screen,e.screen,t.animation,!0))?!0:(c.warn("Could not go back."),!1)},goTo:function(t,e,n){var i;if(0===u.length?(0===a(".mo-screen.current").length&&(h.$currentScreen=a(".mo-screen:first-child").addClass("current")),i=h.$currentScreen):i=u[0].screen,"string"==typeof e)for(var r=0,o=l.length;o>r;r++)if(l[r].name===e){e=l[r];break}return h.transit(i,t,e,!1,n)?!0:!1},setHash:function(t){h.options.updateHash&&(location.hash="#"+t.replace(/^#/,""))}};n.exports=h}),o("mob/viewport",function(t,e,n){function i(){var t;for(t=0;t<document.head.children.length;t++)if("viewport"==document.head.children[t].name){s=document.head.children[t];break}if(s){var e,n=s.content.toLowerCase().replace(/\s+/g,"").split(",");for(t=0;t<n.length;t++)n[t]&&(e=n[t].split("="),c[e[0]]=e.length>1?e[1]:"_");r()}}function r(){var t=c.width,e=c.height,n=a.version(),i="device-width",r="device-height",s=u.orientation();delete c.height,c.width=i,a.isIPad()?n>7?delete c.width:a.isWebView()?90==s?c.height="0":7==n&&(c.height=r):7>n&&(c.height="0"):a.isIOS()&&(a.isWebView()?n>7?delete c.width:7>n?e&&(c.height="0"):7==n&&(c.height=r):7>n&&e&&(c.height="0")),(t!==c.width||e!==c.height)&&o()}function o(){var t,e=[];for(t in c)c[t]&&e.push(t+("_"==c[t]?"":"="+c[t]));s.content=e.join(", ")}var s,a=t("mob/platform"),c={},u={orientation:function(){return window.innerWidth>window.innerHeight?90:0},initialize:function(){a.ready(function(){i(),window.addEventListener("orientationchange",function(){setTimeout(r,1e3)},!1)})}};n.exports=u}),o("mob/swipe",function(t,e,n){function i(t,e){function n(){p=g.children,m=new Array(p.length),v=t.getBoundingClientRect().width||t.offsetWidth,g.style.width=p.length*v+"px";for(var e=p.length;e--;){var n=p[e];n.style.width=v+"px",n.setAttribute("data-index",e),o.transitions&&(n.style.left=e*-v+"px",c(e,b>e?-v:e>b?v:0,0))}o.transitions||(g.style.left=b*-v+"px"),t.style.visibility="visible"}function i(){b?a(b-1):e.continuous&&a(p.length-1)}function s(){b<p.length-1?a(b+1):e.continuous&&a(0)}function a(t,n){if(b!=t){if(o.transitions){for(var i=Math.abs(b-t)-1,r=Math.abs(b-t)/(b-t);i--;)c((t>b?t:b)-i-1,v*r,0);c(b,v*r,n||E),c(t,0,n||E)}else l(b*-v,t*-v,n||E);b=t,d(e.callback&&e.callback(b,p[b]))}}function c(t,e,n){u(t,e,n),m[t]=e}function u(t,e,n){var i=p[t],r=i&&i.style;r&&(r.webkitTransitionDuration=r.MozTransitionDuration=r.msTransitionDuration=r.OTransitionDuration=r.transitionDuration=n+"ms",r.webkitTransform="translate("+e+"px,0)translateZ(0)",r.msTransform=r.MozTransform=r.OTransform="translateX("+e+"px)")}function l(t,n,i){if(!i)return void(g.style.left=n+"px");var r=+new Date,o=setInterval(function(){var s=+new Date-r;return s>i?(g.style.left=n+"px",x&&h(),e.transitionEnd&&e.transitionEnd.call(event,b,p[b]),void clearInterval(o)):void(g.style.left=(n-t)*(Math.floor(s/i*100)/100)+t+"px")},4)}function h(){y=setTimeout(s,x)}function f(){x=0,clearTimeout(y)}var d=function(t){setTimeout(t||r.noop,0)};if(t){var p,m,v,g=t.children[0];e=e||{};var y,w,b=parseInt(e.startSlide,10)||0,E=e.speed||300,x=e.auto||0,_={},S={},T={handleEvent:function(t){switch(t.type){case"touchstart":this.start(t);break;case"touchmove":this.move(t);break;case"touchend":d(this.end(t));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":d(this.transitionEnd(t));break;case"resize":d(n.call())}e.stopPropagation&&t.stopPropagation()},start:function(t){var e=t.touches[0];_={x:e.pageX,y:e.pageY,time:+new Date},w=void 0,S={},g.addEventListener("touchmove",this,!1),g.addEventListener("touchend",this,!1)},move:function(t){if(!(t.touches.length>1||t.scale&&1!==t.scale)){e.disableScroll&&t.preventDefault();var n=t.touches[0];S={x:n.pageX-_.x,y:n.pageY-_.y},"undefined"==typeof w&&(w=!!(w||Math.abs(S.x)<Math.abs(S.y))),w||(t.preventDefault(),f(),S.x=S.x/(!b&&S.x>0||b==p.length-1&&S.x<0?Math.abs(S.x)/v+1:1),u(b-1,S.x+m[b-1],0),u(b,S.x+m[b],0),u(b+1,S.x+m[b+1],0))}},end:function(t){var n=+new Date-_.time,i=Number(n)<250&&Math.abs(S.x)>20||Math.abs(S.x)>v/2,r=!b&&S.x>0||b==p.length-1&&S.x<0,o=S.x<0;w||(i&&!r?(o?(c(b-1,-v,0),c(b,m[b]-v,E),c(b+1,m[b+1]-v,E),b+=1):(c(b+1,v,0),c(b,m[b]+v,E),c(b-1,m[b-1]+v,E),b+=-1),e.callback&&e.callback(b,p[b])):(c(b-1,-v,E),c(b,0,E),c(b+1,v,E))),g.removeEventListener("touchmove",T,!1),g.removeEventListener("touchend",T,!1)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==b&&(x&&h(),e.transitionEnd&&e.transitionEnd.call(t,b,p[b]))}};return n(),x&&h(),o.addEventListener?(o.touch&&g.addEventListener("touchstart",T,!1),o.transitions&&(g.addEventListener("webkitTransitionEnd",T,!1),g.addEventListener("msTransitionEnd",T,!1),g.addEventListener("oTransitionEnd",T,!1),g.addEventListener("otransitionend",T,!1),g.addEventListener("transitionend",T,!1)),window.addEventListener("resize",T,!1)):window.onresize=function(){n()},{setup:function(){n()},slide:function(t,e){a(t,e)},prev:function(){f(),i()},next:function(){f(),s()},getPos:function(){return b},kill:function(){f(),g.style.width="auto",g.style.left=0;for(var t=p.length;t--;){var e=p[t];e.style.width="100%",e.style.left=0,o.transitions&&u(t,0,0)}o.addEventListener?(g.removeEventListener("touchstart",T,!1),g.removeEventListener("webkitTransitionEnd",T,!1),g.removeEventListener("msTransitionEnd",T,!1),g.removeEventListener("oTransitionEnd",T,!1),g.removeEventListener("otransitionend",T,!1),g.removeEventListener("transitionend",T,!1),window.removeEventListener("resize",T,!1)):window.onresize=null}}}}var r=t("mob/lang"),o=t("mob/support");n.exports=i}),o("mob/template",function(t,e,n){function r(t,e,n){!e&&n&&(e=n),e=o.defaults({},e,s.settings);var r=RegExp([(e.escape||c).source,(e.interpolate||c).source,(e.evaluate||c).source].join("|")+"|$","g"),a=0,u="__p+='";t.replace(r,function(e,n,i,r,o){return u+=t.slice(a,o).replace(l,h),a=o+e.length,n?u+="'+\n((__t=("+n+"))==null?'':Mob.escape(__t))+\n'":i?u+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(u+="';\n"+r+"\n__p+='"),e}),u+="';\n",e.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{var f=new Function(e.variable||"obj","Mob",u)}catch(d){throw d.source=u,d}var p=function(t){return f.call(this,t,i)},m=e.variable||"obj";return p.source="function("+m+"){\n"+u+"}",p}var o=t("mob/lang"),s={},a={insertComponent:function(t){return'<div mo-component="'+t+'"></div>'}},c=/(.)^/,u={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},l=/\\|'|\r|\n|\u2028|\u2029/g;s.settings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},s.addHelpers=function(t){o.extend(a,t)};var h=function(t){return"\\"+u[t]};s.compile=function(t,e,n){if(e)return o.defaults(e,a),r.apply(this,arguments);var i=r.apply(this,arguments),s=function(t){return t=o.defaults({},t,a),i.call(this,t)};return s},n.exports=s}),o("mob/component",function(t,e,n){var i=t("mob/view"),r=i.extend({tagName:"div",className:"mo-component"});n.exports=r}),o("mob/screen",function(t,e,n){var i=t("mob/lang"),r=t("mob/jqlite"),o=t("mob/base"),s=t("mob/class"),a=t("mob/transition"),c=s.extend({constructor:function(t){if(this.options=t||{},this.el=this.getOption("el"),this.el=r(this.el).get(0),!this.el)throw new Error('An "el" must be specified for a screen.');this.$el=this.getEl(this.el),s.call(this,t)},adjustTitle:function(t){t=t||this.$el.attr("mo-title"),t&&i.adjustTitle(t)},_toggleScreen:function(){var t=this.$el.attr("mo-transition");"none"!==t?a.goTo(this.$el,t||"slideleft",location.hash):(this.$el.siblings().removeClass("current"),this.$el.addClass("current"))},show:function(t,e){if(this._ensureElement()){this._ensureViewIsIntact(t),this.adjustTitle(),this._toggleScreen();var n=e||{},r=t!==this.currentView,s=!!n.preventDestroy,a=!!n.forceShow,c=!!this.currentView,u=r&&!s,l=r||a;if(c&&this.triggerMethod("before:swapOut",this.currentView,this,e),this.currentView&&delete this.currentView._parent,u?this.empty():c&&l&&this.currentView.off("destroy",this.empty,this),l){t.once("destroy",this.empty,this),t.render(),t._parent=this,c&&this.triggerMethod("before:swap",t,this,e),this.triggerMethod("before:show",t,this,e),o.triggerMethodOn(t,"before:show",t,this,e),c&&this.triggerMethod("swapOut",this.currentView,this,e);var h=o.isNodeAttached(this.el),f=[],d=i.extend({triggerBeforeAttach:this.triggerBeforeAttach,triggerAttach:this.triggerAttach},n);return h&&d.triggerBeforeAttach&&(f=this._displayedViews(t),this._triggerAttach(f,"before:")),this.attachHtml(t),this.currentView=t,h&&d.triggerAttach&&(f=this._displayedViews(t),this._triggerAttach(f)),c&&this.triggerMethod("swap",t,this,e),this.triggerMethod("show",t,this,e),o.triggerMethodOn(t,"show",t,this,e),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(t,e){var n=(e||"")+"attach";i.each(t,function(t){o.triggerMethodOn(t,n,t,this)},this)},_displayedViews:function(t){return i.union([t],i.result(t,"_getNestedViews")||[])},_ensureElement:function(){if(i.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption("allowMissingEl"))return!1;throw new Error('An "el" '+this.$el.selector+" must exist in DOM")}return!0},_ensureViewIsIntact:function(t){if(!t)throw new Error("The view passed is undefined and therefore invalid. You must pass a view instance to show.");if(t.isDestroyed)throw new Error('View (cid: "'+t.cid+'") has already been destroyed and cannot be used.')},getEl:function(t){return r(t,o._getValue(this.options.parentEl,this))},attachHtml:function(t){this.$el.contents().detach(),this.el.appendChild(t.el)},empty:function(t){var e=this.currentView,n=o._getValue(t,"preventDestroy",this);return e?(e.off("destroy",this.empty,this),this.triggerMethod("before:empty",e),n||this._destroyView(),this.triggerMethod("empty",e),delete this.currentView,n&&this.$el.contents().detach(),this):void 0},_destroyView:function(){var t=this.currentView;t.destroy&&!t.isDestroyed?t.destroy():t.remove&&(t.remove(),t.isDestroyed=!0)},attachView:function(t){return this.currentView=t,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this}},{buildScreen:function(t,e){if(i.isString(t))return this._buildScreenFromSelector(t,e);if(t.selector||t.el||t.screenClass)return this._buildScreenFromObject(t,e);if(i.isFunction(t))return this._buildScreenFromScreenClass(t);throw new Error("Improper screen configuration type.")},_buildScreenFromSelector:function(t,e){return new e({el:t})},_buildScreenFromObject:function(t,e){var n=t.screenClass||e,r=i.omit(t,"selector","screenClass");return t.selector&&!r.el&&(r.el=t.selector),new n(r)},_buildScreenFromScreenClass:function(t){return new t}});n.exports=c}),o("mob/screenComponent",function(t,e,n){function i(){this.components||(this.components={}),o.each(this.components,function(t){t.$el.detach()})}function r(){var t=this;this.componentCreators=this.componentCreators||{},this.componentCreators=o.result(this,"componentCreators"),this.$("[mo-component]").each(function(){var e,n=s(this),i=n.attr("mo-component");if(o.isUndefined(t.components[i])){if(e=t._createComponent(i,n),null===e)return;t.components[i]=e}else e=t.components[i];n.replaceWith(e.$el)}),o.each(this.components,function(t){t.render()}),o.isFunction(this.onComponentsRendered)&&this.onComponentsRendered.call(this)}var o=t("mob/lang"),s=t("mob/jqlite"),a={};a.add=function(t){var e={render:t.render,remove:t.remove};t.render=function(){var t=Array.prototype.slice.call(arguments);i.call(this);var n=e.render.apply(this,t);return r.call(this),n},t.renderComponents=function(){o.isEmpty(this.components)?r.call(this):o.info("Components have already rendered!")},t.remove=function(){return this.removeComponents(),e.remove.call(this)},t.removeComponents=function(){this.components&&(o.each(this.components,function(t){t.remove()}),delete this.components)},t._createComponent=function(t,e){var n=this.componentCreators[t];if(o.isUndefined(n))throw new Error("Can not find component creator for component named: "+t);return n.apply(this)}},n.exports=a}),o("mob/screenManager",function(t,e,n){var i=t("mob/lang"),r=t("mob/base"),o=t("mob/class"),s=t("mob/screen"),a=o.extend({constructor:function(t){this._screens={},this.length=0,o.call(this,t),this.addScreens(this.getOption("screens"))},addScreens:function(t,e){return t=r._getValue(t,this,arguments),i.reduce(t,function(t,n,r){return i.isString(n)&&(n={selector:n}),n.selector&&(n=i.defaults({},n,e)),t[r]=this.addScreen(r,n),t},{},this)},addScreen:function(t,e){var n;return n=e instanceof s?e:s.buildScreen(e,s),this.triggerMethod("before:add:screen",t,n),n._parent=this,this._store(t,n),this.triggerMethod("add:screen",t,n),n},get:function(t){return this._screens[t]},getScreens:function(){return i.clone(this._screens)},removeScreen:function(t){var e=this._screens[t];return this._remove(t,e),e},removeScreens:function(){var t=this.getScreens();return i.each(this._screens,function(t,e){this._remove(e,t)},this),t},emptyScreens:function(){var t=this.getScreens();return i.invoke(t,"empty"),t},destroy:function(){return this.removeScreens(),o.prototype.destroy.apply(this,arguments)},_store:function(t,e){this._screens[t]||this.length++,this._screens[t]=e},_remove:function(t,e){this.triggerMethod("before:remove:screen",t,e),e.empty(),e.stopListening(),delete e._parent,delete this._screens[t],this.length--,this.triggerMethod("remove:screen",t,e)}});n.exports=a}),o("mob/screenView",function(t,e,n){var i=(t("mob/lang"),t("mob/jqlite")),r=t("mob/logger"),o=t("mob/view"),s=t("mob/screenComponent"),a=t("mob/scroller"),c=o.extend({tagName:"div",className:"mo-screen-view",initialize:function(){s.add(this)},initScroller:function(){return 0===this.$(".mo-scroll-content").length||0===this.$(".mo-scroll").length?void r.error('Can not find both ".mo-scroll-content" and ".mo-scroll" elements.'):void(this.scroller||(this.scroller=new a(this.$(".mo-scroll-content").get(0),{mouseWheel:!0}),i(document).unbind("touchmove.scroller").bind("touchmove.scroller",function(t){t.preventDefault()})))},refreshScroller:function(){var t=this;setTimeout(function(){t.scroller&&t.scroller.refresh()},300)}});n.exports=c}),o("mob/router",function(t,e,n){function i(t,e){t.addEventListener?t.addEventListener("hashchange",e,!1):t.attachEvent&&t.attachEvent("hashchange",e)}function r(t,e){t.removeEventListener?t.removeEventListener("hashchange",e,!1):t.detachEvent&&t.detachEvent("hashchange",e)}var o=t("mob/lang"),s=t("mob/logger");Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,n=Array.prototype.slice.call(arguments);return t=n.shift(),function(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments)))}});var a="([^/\\?]+)",c=/:([\w\d]+)/g,u=/\/\*(?!\*)/,l="/([^/\\?]+)",h=/\*{2}/,f="(.*?)\\??",d=/\/*$/,p=function(t){this.href=t,this.params,this.query,this.splat,this.hasNext=!1};p.prototype.get=function(t,e){return this.params&&void 0!==this.params[t]?this.params[t]:this.query&&void 0!==this.query[t]?this.query[t]:void 0!==e?e:void 0};var m=function(t){this._options=o.extend({ignorecase:!0},t),this._routes=[],this._befores=[],this._errors={_:function(t,e,n){s.warn("Router : "+n)},_404:function(t,e){console&&console.warn&&console.warn("404! Unmatched route for url "+e)},_500:function(t,e){if(!console||!console.error)throw new Error("500");console.error("500! Internal error route for url "+e)}},this._paused=!1,this._hasChangeHandler=this._onHashChange.bind(this),i(window,this._hasChangeHandler)};m.prototype._onHashChange=function(t){return this._paused||this._route(this._extractFragment(window.location.href)),!0},m.prototype._extractFragment=function(t){var e=t.indexOf("#");return e>=0?t.substring(e):"#/"},m.prototype._throwsRouteError=function(t,e,n){return this._errors["_"+t]instanceof Function?this._errors["_"+t](e,n,t):this._errors._(e,n,t),!1},m.prototype._buildRequestObject=function(t,e,n,i){if(!t)throw new Error("Unable to compile request object");var r=new p(t);e&&(r.params=e);var o=t.split("?");if(2==o.length){var s=null,a=o[1].split("&");r.query={};for(var c=0,u=a.length;u>c;c++)s=a[c].split("="),r.query[decodeURI(s[0])]=decodeURI(s[1].replace(/\+/g,"%20"));r.query}return n&&n.length>0&&(r.splats=n),i===!0&&(r.hasNext=!0),r},m.prototype._followRoute=function(t,e,n){var i,r=n.splice(0,1),o=this._routes[r],s=e.match(o.path),a={},c=[];if(!o)return this._throwsRouteError(500,new Error("Internal error"),t);for(var u=0,l=o.paramNames.length;l>u;u++)a[o.paramNames[u]]=s[u+1];if(u+=1,s&&u<s.length)for(var h=u;h<s.length;h++)c.push(s[h]);var f=0!==n.length,d=function(e,n,i,r){return function(r,o,s){return r||o?o?this._throwsRouteError(s||500,o,t):void this._followRoute(e,n,i):this._throwsRouteError(500,'Cannot call "next" without an error if request.hasNext is false',t)}.bind(this,r)}.bind(this)(t,e,n,f);i=this._buildRequestObject(t,a,c,f),o.routeAction(i,d)},m.prototype._routeBefores=function(t,e,n,i,r){var o;if(t.length>0){var s=t.splice(0,1);s=s[0],o=function(e,o){return e?this._throwsRouteError(o||500,e,n):void this._routeBefores(t,s,n,i,r)}.bind(this)}else o=function(t,e){return t?this._throwsRouteError(e||500,t,n):void this._followRoute(n,i,r)}.bind(this);e(this._buildRequestObject(n,null,null,!0),o)},m.prototype._route=function(t){var e,n="",i=this._befores.slice(),r=[],o=t;if(0===o.length)return!0;o=o.replace(d,""),e=o.split("?")[0].replace(d,"");for(var s in this._routes)this._routes.hasOwnProperty(s)&&(n=this._routes[s],n.path.test(e)&&r.push(s));if(!(r.length>0))return this._throwsRouteError(404,null,t);if(i.length>0){var a=i.splice(0,1);a=a[0],this._routeBefores(i,a,t,o,r)}else this._followRoute(t,o,r)},m.prototype.pause=function(){return this._paused=!0,this},m.prototype.play=function(t){return t="undefined"==typeof t?!1:t,this._paused=!1,t&&this._route(this._extractFragment(window.location.href)),this},m.prototype.setLocation=function(t){return window.history.pushState(null,"",t),this},m.prototype.redirect=function(t){return this.setLocation(t),this._paused||this._route(this._extractFragment(t)),this},m.prototype.addRoute=function(t,e){var n,i=this._options.ignorecase?"i":"",r=[];if("string"==typeof t){for(t=t.replace(d,"");null!==(n=c.exec(t));)r.push(n[1]);t=new RegExp(t.replace(c,a).replace(u,l).replace(h,f)+"(?:\\?.+)?$",i)}return this._routes.push({path:t,paramNames:r,routeAction:e}),this},m.prototype.before=function(t){return this._befores.push(t),this},m.prototype.errors=function(t,e){if(isNaN(t))throw new Error("Invalid code for routes error handling");if(!(e instanceof Function))throw new Error("Invalid callback for routes error handling");return t="_"+t,this._errors[t]=e,this},m.prototype.run=function(t){return t||(t=this._extractFragment(window.location.href)),t=0===t.indexOf("#")?t:"#"+t,this.redirect(t),this},m.prototype.destroy=function(){return r(window,this._hasChangeHandler),this},n.exports=m}),o("mob/application",function(t,e,n){var i=t("mob/lang"),r=t("mob/base"),o=t("mob/class"),s=t("mob/router"),a=t("mob/screenManager"),c=o.extend({constructor:function(t){this._initializeScreens(t),this.appRouter=new s,t&&t.routers&&this._initializeRouters(t.routers),i.defaults(this,t),o.call(this,t)},start:function(t){this.triggerMethod("before:start",t),this.triggerMethod("start",t)},addScreens:function(t){return this._screenManager.addScreens(t)},emptyScreens:function(){return this._screenManager.emptyScreens()},removeScreen:function(t){return this._screenManager.removeScreen(t)},getScreen:function(t){return this._screenManager.get(t)},getScreens:function(){return this._screenManager.getScreens()},getScreenManager:function(){return new a},_initializeRouters:function(t){for(var e in t)this.appRouter.addRoute(e,t[e])},_initializeScreens:function(t){var e=i.isFunction(this.screens)?this.screens(t):this.screens||{};this._initScreenManager();var n=r.getOption(t,"screens");return i.isFunction(n)&&(n=n.call(this,t)),i.extend(e,n),this.addScreens(e),this},_initScreenManager:function(){this._screenManager=this.getScreenManager(),this._screenManager._parent=this,this.listenTo(this._screenManager,"before:add:screen",function(){r._triggerMethod(this,"before:add:screen",arguments)}),this.listenTo(this._screenManager,"add:screen",function(t,e){this[t]=e,r._triggerMethod(this,"add:screen",arguments)}),this.listenTo(this._screenManager,"before:remove:screen",function(){r._triggerMethod(this,"before:remove:screen",arguments)}),this.listenTo(this._screenManager,"remove:screen",function(t){delete this[t],r._triggerMethod(this,"remove:screen",arguments)})}});n.exports=c});var s=r("mob/lang");return s.extend(i,s),i.Logger=r("mob/logger"),i.each(["debug","time","timeEnd","info","warn","error","log"],function(t){i[t]=i.Logger[t]}),i.isUndefined(i.$)&&(i.$=r("mob/jqlite")),i.Class=r("mob/class"),i.Events=r("mob/events"),i.HTTP=r("mob/http"),i.Storage=r("mob/storage"),i.View=r("mob/view"),i.Support=r("mob/support"),i.Platform=r("mob/platform"),i.initializePlatform=i.Platform.initialize,i.Touch=r("mob/touch"),i.initializeTouchEvent=i.Touch.initialize,i.Scroller=r("mob/scroller"),i.Viewport=r("mob/viewport"),i.initializeViewport=i.Viewport.initialize,i.Transition=r("mob/transition"),i.Swipe=r("mob/swipe"),i.Template=r("mob/template"),i.Component=r("mob/component"),i.Screen=r("mob/screen"),i.ScreenView=r("mob/screenView"),i.Router=r("mob/router"),i.Application=r("mob/application"),i.createApplication=function(t){return new i.Application(t)},i.require=i.requireModule=r,
i.define=i.defineModule=o,i});
//# sourceMappingURL=mob.min.js.map